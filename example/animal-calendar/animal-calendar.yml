ins: year
out: result
bootstrap: execute
injection: ./dist/injection.cat.js
component:

    execute:
        perform: R.pipeP
        parts:
            - $fetchImageAndCalendar
            - $composeCalendar
            - $writeCalendar
            - $showCalendar

    fetchImageAndCalendar: [X.concurrent, $fetchImageUrl, $fetchCalendar]

    composeCalendar:
        ins: [imageUrl, calendar]
        out: result
        perform: injection.composeHtml

    writeCalendar:
        ins: result
        perform: [X.wrapCommand, $injection.writeHtmlCommand]

    showCalendar:
        ins: []
        perform: [X.wrapCommand, $injection.showCalendarCommand]

    fetchCalendar:
        ins: year
        out: calendar
        perform: [X.wrapCommand, $injection.calCommand]

    fetchImageUrl:
        out: imageUrl
        perform: R.pipeP
        parts:
            - ${fetchImageObj}
            - ${getImageUrl}

    fetchImageObj:
        ins: []
        perform: [X.wrapCommand, $injection.imageFetcherCommand]

    getImageUrl: [R.prop, $injection.imageKey]
